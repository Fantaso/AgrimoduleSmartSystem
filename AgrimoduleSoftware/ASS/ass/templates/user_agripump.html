{% extends 'base.html' %}

{% block title %}
	Agripump
{% endblock %}

{% block user_agripump_active %}
fh5co-active
{% endblock %}

{% block content %}
<div id = "fh5co-main" class = "container" style = "margin-top: 5%;">
	<div style="padding-left: 2%; text-align: left;">
    <h1>Agripump</h1>
	<div>
        <hr>
        <p>General links</p>
        <ul>
          <li><a href="{{ url_for('home') }}" style="color:#16B6A5;">Home</a></li>
          <li><a href="{{ url_for('user_resources') }}" style="color:#16B6A5;">Resources</a></li>
          <li><a href="{{ url_for('user_crop_planning') }}" style="color:#16B6A5;">Crop planning</a></li>
        </ul>
	</div>

  <div>
        <hr>
        <p>Pump information</p>
        <ul>
          <li>Brand:                 {{ pump.pump_brand }}</li>
          <li>Flow rate:             {{ pump.pump_flow_rate }} lps</li>
          <li>Max height:            {{ pump.pump_head }} m</li>
          <li>kW:                    {{ pump.pump_watts }} kW</li>
        </ul>
  </div>

  <div>
        <hr>
        <p>Pump status</p>
        <ul>
          {% if agripump.status == 1: %}
          <li>now: <span style="color: green;">ON</span></li>
          {% else %}
          <li>now: <span style="color: red;">OFF</span></li>
          {% endif %}
        </ul>
  </div>

  <div>
        <hr>
        <p>Water usage</p>
        <ul>
          <li>Current flow:   {% if agripump.status: %}     {{ pump.pump_flow_rate }}     {% else %}    {{ 0 }}     {% endif %}   lps</li>
          <li><i>Today:                6,000 l</i></li>
          <li>Per cultivation cycle</li>
          <li><i>Used:                 80,000 l</i></li>
          <li>Needed:               {{ (field.field_water_required_day * (crop._dtg + crop._dtm)) / 1000 }} l</li>
        </ul>
  </div>

  <div>
        <hr>
        <p>Energy usage</p>
        <ul>
          <li>Current consumption:  {% if agripump.status: %}     {{ pump.pump_watts }}     {% else %}    {{ 0 }}     {% endif %} kWh</li>
          <li><i>Today:                3,000 KWh</i></li>
          <li>Per cultivation cycle</li>
          <li><i>Used:                 15,000 kWh</i></li>
          <li>Needed:               {{ pump_consumption_kwh }} kWh</li>
        </ul>
  </div>

</div>

{% endblock %}